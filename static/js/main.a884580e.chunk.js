(this.webpackJsonpmodal=this.webpackJsonpmodal||[]).push([[0],{18:function(e,t,a){},32:function(e,t,a){e.exports=a(70)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),s=a.n(i),c=a(3),o=a(31),l=(a(41),a(20)),u=a(2),m=a(12),d=a.n(m),p=a(4),v=a(5),E=function(){function e(){var t=this;Object(p.a)(this,e),this._apiBase="https://my-json-server.typicode.com/v-pushkar/",this.getDataEquipments=function(){var e;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(t.getResource("modaldb/equipmentsList"));case 2:return e=a.sent,a.abrupt("return",e);case 4:case"end":return a.stop()}}))},this.getDataVehicles=function(){var e;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(t.getResource("vehiclesdb/vehiclesList"));case 2:return e=a.sent,a.abrupt("return",e);case 4:case"end":return a.stop()}}))},this.getDataWorkers=function(){var e;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(t.getResource("workersdb/workerList"));case 2:return e=a.sent,a.abrupt("return",t._transformWorkersList(e));case 4:case"end":return a.stop()}}))},this._transformWorkersList=function(e){return e.reduce((function(e,t){return Object(u.a)({},e,Object(l.a)({},t.id,t))}),{})}}return Object(v.a)(e,[{key:"getResource",value:function(e){var t,a;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(fetch("".concat(this._apiBase).concat(e)));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Could not fetch: ".concat(this._apiBase).concat(e,",\n        resived ").concat(t.status));case 5:return n.next=7,d.a.awrap(t.json());case 7:return a=n.sent,n.abrupt("return",a);case 9:case"end":return n.stop()}}),null,this)}}]),e}(),f=a(8),h=a(7),b=a(9),g=a(30),O=(a(43),{indicatorSeparator:function(){return{display:"none"}},control:function(e,t){return Object(u.a)({},e,{border:"none"})},placeholder:function(e,t){return Object(u.a)({},e,{fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",color:"#000000"})},singleValue:function(e,t){return Object(u.a)({},e,{fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",color:"#000000"})},input:function(e,t){return Object(u.a)({},e,{pointerEvents:"none"})},menu:function(){return function(e,t){return Object(u.a)({},e,{background:"#FFFFFF",boxShadow:"0px 2px 10px rgba(22, 84, 152, 0.1)",borderRadius:"4px",top:"115%",position:"absolute",padding:"8px 0",zIndex:"999"})}},menuList:function(){return function(e,t){return Object(u.a)({},e)}},option:function(e,t){return Object(u.a)({},e,{border:"none",fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",backgroundColor:t.isSelected?"rgba(197, 215, 255, 0.5);":"none",color:"#14589C"})}}),k=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={selectedOption:a.props.defaultValue},a.handleChange=function(e){a.setState({selectedOption:e}),a.props.onHandleChange(e)},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectedOption;e.options;return r.a.createElement("div",{className:"select-wrapp"},r.a.createElement(g.a,{defaultValue:t,styles:O,value:t,onChange:this.handleChange,options:this.props.options}))}}]),t}(r.a.Component),L=a(11),y=a.n(L),N=Object(c.b)((function(e){var t=e.activeUserId;return{workersList:e.workersList,userDetails:e.usersList[t],isLoading:e.isDataLosding.workers}}),(function(e){return{onUserChange:function(t){return e({type:"ON_USER_CHANGE",payload:t})}}}))((function(e){var t=e.userDetails,a=t.img,n=(t.name,t.id),i=Object.keys(e.workersList).map((function(t,a){return{label:e.workersList[t].name,value:t}}));return r.a.createElement("div",{className:"user-card-wrapp"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:a,alt:"avatar"})),r.a.createElement("div",{className:"user-name"},e.isReady?r.a.createElement(k,{options:i,defaultValue:i.find((function(e){return e.value===n.toString()})),onHandleChange:function(t){e.onUserChange(t.value)}}):r.a.createElement(y.a,{count:2,height:20})))})),j=function(e,t){return e.filter((function(e){return new RegExp(t,"i").test(e.name)}))},I=function(e){return 0===Object.entries(e).length&&e.constructor===Object},C=(a(44),Object(c.b)((function(e){return{listsContent:e.listsContent,workersList:e.workersList}}),(function(e){return{}}))((function(e){return Object(n.useEffect)((function(){console.log("IS EMPTY :",I(e.workersList))}),[e.workersList]),r.a.createElement("div",{className:"modal-header-wrapp"},r.a.createElement("div",{className:"left-part"},r.a.createElement("h5",null,"List of available ",e.listsContent)),r.a.createElement("div",{className:"right-part"},I(e.workersList)?r.a.createElement(y.a,null):r.a.createElement(N,{isReady:!I(e.workersList)})))}))),w=(a(45),a(46),a(47),function(e){return r.a.createElement("div",{className:"drop-wrapp"},r.a.createElement("select",{defaultValue:e.value,onChange:e.onHandleChange},e.optopns.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}))))}),q=(new E,function(e){return{type:"GET_WORKERS_LIST",payload:e}}),_=function(){return{type:"ADD_ACTIVE_WORKER_EQUIPMENT"}},W=function(e){return{type:"ON_SEARCH_IN_WORKER_LIST",payload:e}},R=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal-footer-wrapp"},r.a.createElement("div",{className:"modal-footer"},r.a.createElement(w,{optopns:[{label:"equipment",value:"equipment"},{label:"vehicle",value:"vehicle"}],value:this.props.listsContent,onHandleChange:this.props.changeListsContent}),r.a.createElement("div",{className:"btn-group-wrapp"},r.a.createElement("button",{className:"cancel-btn",onClick:this.props.onClose},"Cancel"),r.a.createElement("button",{className:"submit-btn"},"Save"))))}}]),t}(r.a.Component),T={changeListsContent:function(e){return{type:"CHANGE_LIST_CONTENT",payload:e.target.value}}},S=Object(c.b)((function(e){return{listsContent:e.listsContent}}),T)(R),D=a(17),A=(a(64),function(e){return r.a.createElement("div",{className:"list-header ".concat(e.classname&&e.classname)},e.names.map((function(e,t){return r.a.createElement("div",{key:t,className:"label"},e)})))}),x=(a(65),function(e){return r.a.createElement("div",{className:"Search-wrapp"},r.a.createElement("input",{placeholder:"search",className:"search-field",type:"input",onInput:function(t){var a=t.target.value;e.onSearchInput(a)}}))}),U=(a(18),a(10)),M=a.n(U),H=(a(66),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).increment=function(){a.setState({value:a.state.value<a.props.maxValue?++a.state.value:a.state.value})},a.decrement=function(){a.setState({value:a.state.value>0?--a.state.value:0})},a.handleChange=function(e){var t=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");t>a.state.maxValue&&(t=a.state.maxValue),a.setState({value:t}),a.props.onQuanityChange(a.state.value)},a.state={value:""},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.setState({maxValue:this.props.maxValue})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"quantity-input"},r.a.createElement("input",{className:"quantity-input__screen",type:"text",value:this.state.value,pattern:"[0-9]*",max:"10",onChange:this.handleChange}),r.a.createElement("button",{className:"quantity-input-increment",onClick:this.increment},"+"),r.a.createElement("button",{className:"quantity-input-decrement",onClick:this.decrement},"\u268a")))}}]),t}(r.a.Component)),V=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none"},r.a.createElement("line",{x1:"12.021",y1:"4.94937",x2:"4.94993",y2:"12.0204",stroke:"#C4C5D6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.a.createElement("line",{x1:"12.0208",y1:"12.0205",x2:"4.94978",y2:"4.94944",stroke:"#C4C5D6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},F=function(e){var t=e.id,a=e.image,n=(e.model,e.name),i=e.category,s=e.assigned,c=e.available,o=e.added,l=e.onAdd,u=M()("ItemDetils item-row-equipments",{"item-added":o});return r.a.createElement("div",{className:"ItemDetils-wrapp"},r.a.createElement("div",{className:u},r.a.createElement("div",{className:"label icon"},r.a.createElement("img",{src:a,alt:"icon"})),r.a.createElement("div",{className:"label attrebuts"},n),r.a.createElement("div",{className:"label category"},i),r.a.createElement("div",{className:"label assigned"},s),r.a.createElement("div",{className:"label available"},c),r.a.createElement("div",{className:"label add-btn"},o?r.a.createElement("span",null,"Added"):r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),l(t)}},"Add"))))},Q=Object(c.b)()((function(e){var t=e.id,a=e.image,n=(e.model,e.name),i=e.category,s=e.assigned,c=e.available,o=e.onRemoveItem,l=M()("ItemDetils item-row-equipments",{"item-added":!1});return r.a.createElement("div",{className:"ItemDetils-wrapp"},r.a.createElement("div",{className:l},r.a.createElement("div",{className:"label icon"},r.a.createElement("img",{src:a,alt:"icon"})),r.a.createElement("div",{className:"label attrebuts"},n),r.a.createElement("div",{className:"label category"},i),r.a.createElement("div",{className:"label assigned"},s),r.a.createElement("div",{className:"label available"},c),r.a.createElement("div",{className:"label delete-btn"},r.a.createElement(H,{maxValue:c,onQuanityChange:function(e){}}),r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(t)}},r.a.createElement(V,null)))))})),K=function(e){var t=e.id,a=e.image,n=e.year,i=e.name,s=(e.model,e.mark,e.km),c=e.licens,o=e.added,l=e.onAdd,u=M()("ItemDetils item-row-vehicles",{"item-added":o});return r.a.createElement("div",{className:"ItemDetils-wrapp"},r.a.createElement("div",{className:u},r.a.createElement("div",{className:"label icon"},r.a.createElement("img",{src:a,alt:"icon"})),r.a.createElement("div",{className:"label"},t),r.a.createElement("div",{className:"label"},n),r.a.createElement("div",{className:"label"},i),r.a.createElement("div",{className:"label"},s),r.a.createElement("div",{className:"label"},c),r.a.createElement("div",{className:"label add-btn"},o?r.a.createElement("span",null,"Added"):r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),l(t)}},"Add"))))},P=function(e){var t=e.id,a=e.image,n=e.year,i=e.name,s=(e.model,e.mark,e.km),c=e.licens,o=e.onRemoveItem,l=M()("ItemDetils item-row-vehicles worker-list");return r.a.createElement("div",{className:"ItemDetils-wrapp"},r.a.createElement("div",{className:l},r.a.createElement("div",{className:"label icon"},r.a.createElement("img",{src:a,alt:"icon"})),r.a.createElement("div",{className:"label"},t),r.a.createElement("div",{className:"label"},n),r.a.createElement("div",{className:"label"},i),r.a.createElement("div",{className:"label"},s),r.a.createElement("div",{className:"label"},c),r.a.createElement("div",{className:"label delete-btn"},r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(t)}},r.a.createElement(V,null)))))},G=(a(67),new E),z=function(e){return e.list.map((function(t,a){return r.a.createElement(F,{id:t.id,key:t.id+a*t.id,image:t.img,name:t.name,model:"",category:t.category,assigned:t.assigned,available:t.available,added:e.isAdd(t.id),onAdd:e.onadd})}))},B=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).isAssignedEquipCheck=function(e){var t=a.props;return t.usersList[t.activeUserId].equipment.filter((function(t){return t.id===e})).length>0},a.addEquipmentToWorker=function(e){a.props.addEquipmentToWorker(e)},a.onSearchInput=function(e){G.getDataEquipments().then((function(t){a.props.getEquipmentList(j(t,e))}))},a.state={hasError:!1},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;G.getDataEquipments().then((function(t){e.props.getEquipmentList(t)})).then((function(){e.props.fetchEquipmentRquest()}))}},{key:"render",value:function(){var e=this.props,t=e.equipmentsList;e.listsContent;return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):r.a.createElement("div",{className:"ItemsList-wrapp"},r.a.createElement("div",{className:"loader"},this.props.isLoading||r.a.createElement(y.a,{count:2}),this.props.isLoading&&r.a.createElement(x,{onSearchInput:this.onSearchInput})),this.props.isLoading||r.a.createElement(y.a,{count:5,height:75}),this.props.isLoading&&r.a.createElement("div",{className:"items-list"},r.a.createElement(A,{classname:"item-row-equipments",names:["","Name","Category","Assigned","Available",""]}),r.a.createElement(D.Scrollbars,{style:{height:360},thumbMinSize:50,autoHeightMax:100,renderThumbHorizontal:function(){return r.a.createElement("span",null)},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},r.a.createElement(z,{list:t,isAdd:this.isAssignedEquipCheck,onadd:this.addEquipmentToWorker}))))}}]),t}(r.a.Component),J={fetchEquipmentRquest:function(){return{type:"FETCH_EQUIPMENT_REQUEST"}},getEquipmentList:function(e){return{type:"GET_EQUIPMENT_LIST",payload:e}},addEquipmentToWorker:function(e){return{type:"ADD_EQUIPMENT_TO_WORKER",payload:e}}},Y=Object(c.b)((function(e){return{equipmentsList:e.equipmentsList,activeUserId:e.activeUserId,usersList:e.usersList,listsContent:e.listsContent,isLoading:e.isLoading}}),J)(B),$=(new E,function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onSearchInput=function(e){a.props.onSerchInWorkerLists(e)},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.activeWorkerEquipmentAdd()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ItemsList-wrapp"},r.a.createElement("div",{className:"loader"},this.props.isLoading||r.a.createElement(y.a,{count:2}),this.props.isLoading&&r.a.createElement(x,{onSearchInput:this.onSearchInput})),this.props.isLoading||r.a.createElement(y.a,{count:5,height:75}),this.props.isLoading&&r.a.createElement("div",{className:"items-list"},r.a.createElement(A,{classname:"item-row-equipments",names:["","Name","Category","Assigned","Available",""]}),r.a.createElement(D.Scrollbars,{style:{height:360},autoHide:!0,renderThumbHorizontal:function(){return r.a.createElement("span",null)},autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},this.props.activeWorkerEquip.map((function(t,a){var n=t;return r.a.createElement(Q,{key:a,id:n.id,image:n.img,name:n.name,model:n.model,category:n.category,assigned:n.assigned,available:n.available,onRemoveItem:e.props.onRemoveEquipmentFromWorker})})))))}}]),t}(r.a.Component)),X={activeWorkerEquipmentAdd:_,onRemoveEquipmentFromWorker:function(e){return{type:"REMOVE_EQUIPENT_FROM_WORKER_LIST",payload:e}},onSerchInWorkerLists:W,getWorkersList:q},Z=Object(c.b)((function(e){return{activeWorkerEquip:e.activeWorkerEquip,activeUserId:e.activeUserId,isLoading:e.isLoading}}),X)($),ee=new E,te=function(e){return e.list.map((function(t){return r.a.createElement(K,{id:t.id,key:t.id,year:t.year,image:t.img,name:t.name,mark:t.mark,model:t.model,km:t.km,licens:t.licens,added:e.isAdd(t.id),onAdd:e.onAdd})}))},ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).isAssignedVehicleCheck=function(e){var t=a.props;return t.usersList[t.activeUserId].vehicle.includes(e)},a.onSearchInput=function(e){ee.getDataVehicles().then((function(t){a.props.getVehicleData(j(t,e))}))},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;ee.getDataVehicles().then((function(t){e.props.getVehicleData(t)})).then((function(){}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ItemsList-wrapp"},r.a.createElement(x,{onSearchInput:this.onSearchInput}),r.a.createElement("div",{className:"items-list"},r.a.createElement(A,{classname:"item-row-vehicles",names:["","#","Year","Model","KM","License"," "],VehiclesContainer:!0}),r.a.createElement(D.Scrollbars,{style:{height:360},renderThumbHorizontal:function(){return r.a.createElement("span",null)},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},r.a.createElement(te,{list:this.props.vehiclesList,isAdd:this.isAssignedVehicleCheck,onAdd:this.props.addVehicleToWorker}))))}}]),t}(n.Component),ne={addVehicleToWorker:function(e){return{type:"ADD_VEHICLE_TO_WORKER",payload:e}},getVehicleData:function(e){return{type:"GET_VEHICLE_LIST",payload:e}}},re=Object(c.b)((function(e){return{activeUserId:e.activeUserId,usersList:e.usersList,vehiclesList:e.vehiclesList}}),ne)(ae),ie=function(e){return e.list.map((function(t,a){return r.a.createElement(P,{id:t.id,key:t.id+a*a,year:t.year,image:t.img,name:t.name,mark:t.mark,model:t.model,km:t.km,licens:t.licens,onRemoveItem:e.onRemoveItem})}))},se={activeWorkerEquipmentAdd:_,onRemoveItemFromWorker:function(e){return{type:"REMOVE_ITEM_FROM_WORKER_LIST",payload:e}},onSerchInWorkerLists:W},ce=Object(c.b)((function(e){return{activeWorkerEquip:e.activeWorkerEquip,activeUserId:e.activeUserId,listsContent:e.listsContent}}),se)((function(e){Object(n.useEffect)((function(){e.activeWorkerEquipmentAdd()}),[]);return r.a.createElement("div",{className:"ItemsList-wrapp"},r.a.createElement(x,{onSearchInput:function(t){e.onSerchInWorkerLists(t)}}),r.a.createElement("div",{className:"items-list"},r.a.createElement(A,{classname:"item-row-vehicles worker-list",names:["","#","Year","Model","KM","License",""]}),r.a.createElement(D.Scrollbars,{style:{height:360},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},r.a.createElement(ie,{list:e.activeWorkerEquip,onRemoveItem:e.onRemoveItemFromWorker}))))})),oe=new E,le={getWorkersList:q},ue=Object(c.b)((function(e){return{listsContent:e.listsContent,isLoading:e.isLoading,isDataLosding:e.isDataLosding}}),le)((function(e){var t=M()("ModalContainerWrapper",{show:e.isModalOpen,macOs:navigator.platform.toUpperCase().indexOf("MAC")>=0});Object(n.useEffect)((function(){oe.getDataWorkers().then((function(t){e.getWorkersList(t)}))}),[]);return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"modal-dialog-wrapp"},r.a.createElement(C,null),"equipment"===e.listsContent?r.a.createElement((function(){return r.a.createElement("div",{className:"lists-wrapp"},r.a.createElement("div",{className:"left-list"},r.a.createElement(Y,null)),r.a.createElement("div",{className:"right-list"},r.a.createElement(Z,null)))}),null):null,"vehicle"===e.listsContent?r.a.createElement((function(){return r.a.createElement("div",{className:"lists-wrapp"},r.a.createElement("div",{className:"left-list"},r.a.createElement(re,null)),r.a.createElement("div",{className:"right-list"},r.a.createElement(ce,null)))}),null):null,r.a.createElement(S,{onClose:function(){}})))})),me=(a(68),function(e){return r.a.createElement("div",{className:"ButtonWrapper"},r.a.createElement("button",{className:"btn ".concat(e.className),onClick:e.onClick},e.label))});a(69);var de=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",{className:"app-wrapp app"},r.a.createElement("h1",null,"APP component"),r.a.createElement("div",{className:"btn-wrapp"},r.a.createElement(me,{className:"btn-default",label:"List of available equipments",onClick:function(){i(!0)}})),a&&r.a.createElement(ue,{isModalOpen:a,onClose:function(){i(!1)}}))},pe=r.a.createContext(),ve=pe.Provider,Ee=(pe.Consumer,a(19)),fe=a(13),he=(new E,{listsContent:"equipment",isLoading:!1,isDataLosding:{workers:!1,equipments:!1,vehicles:!1},error:null,searcTempList:[],activeWorkerEquip:[],activeUserId:123,workersList:{},usersList:{123:{id:123,name:"Marwan Elgwarsha",img:"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png",equipment:[{id:123,assigned:3},{id:124,assigned:7},{id:125,assigned:9}],vehicle:[112,120]},124:{id:124,name:"Jony Jons",img:"https://img.pngio.com/png-avatar-108-images-in-collection-page-3-png-avatar-300_300.png",equipment:[{id:124,assigned:15}],vehicle:[]},125:{id:125,name:"Nik Ferdinand",img:"https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png",equipment:[],vehicle:[117]}},equipmentsList:[],vehiclesList:[]}),be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activeUserId;if("equipment"===e.listsContent){var a=e.usersList[t].equipment.map((function(t){var a=e.equipmentsList.filter((function(e){return e.id===t.id}));return Object(u.a)({},a[0],{assigned:t.assigned})}));return a}if("vehicle"===e.listsContent){var n=e.usersList[t].vehicle.map((function(t){var a=e.vehiclesList.filter((function(e){return e.id===t}));return Object(u.a)({},a[0])}));return n}},ge=function(e,t,a){return[].concat(Object(fe.a)(e.slice(0,a)),[t],Object(fe.a)(e.slice(a+1)))},Oe=function(e,t){return[].concat(Object(fe.a)(e.slice(0,t)),Object(fe.a)(e.slice(t+1)))},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.id,n=e.name,r=e.model,i=e.category,s=e.img,c=e.assigned,o=e.available;return{id:a,name:n,model:r,category:i,img:s,assigned:c+t,available:o-t}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=e.mark,n=e.model,r=e.name,i=e.km,s=e.img,c=e.license,o=e.year;return{id:t,name:r,mark:a,model:n,km:i,img:s,license:c,year:o}},ye=function(e,t){return e.find((function(e){return e.id===t}))},Ne=function(e,t){return e.findIndex((function(e){return e.id===t}))},je=function(e,t){var a=e.activeUserId,n=e.equipmentsList,r=e.usersList,i=e.activeWorkerEquip,s=ye(i,t),c=Ne(i,t),o=Oe(i,c),l=s.assigned,m=(s.available,r[a]),d=r[a].equipment.filter((function(e){return e.id!==t})),p=Object(u.a)({},m,{equipment:d}),v=Object(u.a)({},r);v[a]=Object(u.a)({},p);var E=ye(n,t),f=Ne(n,t),h=ke(E,-l),b=ge(n,h,f);return Object(u.a)({},e,{activeWorkerEquip:o,equipmentsList:b,usersList:v})},Ie=function(e,t){var a=e.activeUserId,n=e.vehiclesList,r=e.usersList,i=e.activeWorkerEquip,s=Ne(i,t),c=Oe(i,s),o=r[a],l=r[a].vehicle.filter((function(e){return e!==t})),m=Object(u.a)({},o,{vehicle:l}),d=Object(u.a)({},r);return d[a]=Object(u.a)({},m),Object(u.a)({},e,{activeWorkerEquip:c,usersList:d,vehiclesList:Object(fe.a)(n)})},Ce=function(e,t,a){return console.log("changeQuantityWorkerEquipments",t),console.log("changeQuantityWorkerEquipments",a),Object(u.a)({},e)},we=function(e,t,a){var n=ye(e.equipmentsList,t),r=Ne(e.equipmentsList,t),i=ke(n,a),s=ge(e.equipmentsList,i,r),c=e.activeUserId,o=Object(u.a)({},e.usersList);o[c].equipment=[].concat(Object(fe.a)(o[c].equipment),[{id:t,assigned:1}]);var l=Object(u.a)({},o),m=[].concat(Object(fe.a)(e.activeWorkerEquip),[ke(Object(u.a)({},n,{assigned:0}),1)]);return Object(u.a)({},e,{usersList:l,equipmentsList:s,activeWorkerEquip:m})},qe=function(e,t){var a=ye(e.vehiclesList,t),n=e.activeUserId,r=Object(u.a)({},e.usersList);r[n].vehicle=[].concat(Object(fe.a)(r[n].vehicle),[t]);var i=Object(u.a)({},r),s=[].concat(Object(fe.a)(e.activeWorkerEquip),[Le(a)]);return Object(u.a)({},e,{usersList:i,activeWorkerEquip:s})},_e=function(e,t){return be(e).filter((function(e){return new RegExp(t,"i").test(e.name)}))},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),t.type){case"GET_EQUIPMENT_LIST":return Object(u.a)({},e,{equipmentsList:t.payload});case"GET_WORKERS_LIST":return Object(u.a)({},e,{usersList:t.payload,workersList:t.payload,isDataLosding:Object(u.a)({},e.isDataLosding,{workers:!0})});case"GET_VEHICLE_LIST":return Object(u.a)({},e,{vehiclesList:t.payload});case"FETCH_EQUIPMENT_REQUEST":return Object(u.a)({},e,{isLoading:!0});case"ON_USER_CHANGE":return Object(u.a)({},e,{activeUserId:t.payload,activeWorkerEquip:be(e,t.payload)});case"CHANGE_LIST_CONTENT":return Object(u.a)({},e,{listsContent:t.payload});case"ADD_ACTIVE_WORKER_EQUIPMENT":return Object(u.a)({},e,{activeWorkerEquip:be(e)});case"ADD_EQUIPMENT_TO_WORKER":return we(e,t.payload,1);case"ADD_VEHICLE_TO_WORKER":return qe(e,t.payload);case"REMOVE_EQUIPENT_FROM_WORKER_LIST":return je(e,t.payload);case"REMOVE_ITEM_FROM_WORKER_LIST":return Ie(e,t.payload);case"ON_CHANGE_QUANITY_WORKER_EQUIPMENT":return Ce(e,t.payload.id,t.payload.quantity);case"ON_SEARCH_IN_WORKER_LIST":return Object(u.a)({},e,{activeWorkerEquip:_e(e,t.payload)});default:return e}},Re=Object(Ee.b)(We);new E;s.a.render(r.a.createElement(c.a,{store:Re},r.a.createElement(ve,{value:"context-value"},r.a.createElement(de,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.a884580e.chunk.js.map
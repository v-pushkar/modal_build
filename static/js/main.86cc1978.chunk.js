(this.webpackJsonpmodal=this.webpackJsonpmodal||[]).push([[0],{17:function(e,t,a){},30:function(e,t,a){e.exports=a(67)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),s=a.n(r),l=a(3),o=a(19),c=(a(39),a(4)),m=a(5),u=function(){function e(){Object(c.a)(this,e),this.workerList={123:{id:123,name:"Marwan Elgwarsha",img:"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png",equipment:[{id:123,assigned:3},{id:124,assigned:7},{id:125,assigned:9}],vehicle:[112,120]},124:{id:124,name:"Jony Jons",img:"https://img.pngio.com/png-avatar-108-images-in-collection-page-3-png-avatar-300_300.png",equipment:[{id:124,assigned:15}],vehicle:[]},125:{id:125,name:"Nik Ferdinand",img:"https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png",equipment:[],vehicle:[111]},126:{id:126,name:"Jovani Madera",img:"https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png",equipment:[],vehicle:[]},127:{id:127,name:"Jon Vuik",img:"https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png",equipment:[],vehicle:[]}},this.equipmentsList=[{id:123,name:"Commercial Generator SGX3500",type:"Commercial Generator",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-1.png",assigned:45,available:15},{id:124,name:"Pomp SGX3500",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-2.png",assigned:25,available:10},{id:125,name:"Commercial Generator SGX3500",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-1.png",assigned:60,available:5},{id:133,name:"Commercial Generator",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-1.png",assigned:45,available:15},{id:154,name:"Pomp SGX3500",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-2.png",assigned:25,available:10},{id:225,name:"Commercial Generator",model:"SGX3500",category:"Construction",img:"http://astra.site4u.top/assets/img/equipments-1.png",assigned:60,available:5}],this.vehiclesList=[{id:112,name:"Chevrolet Express 25000",year:2016,mark:"Chevrolet",km:125e3,model:"Express 25000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:113,name:"Chevrolet Express 25000",year:2018,mark:"Chevrolet",km:125e3,model:"Express 15000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:114,name:"Opel Vivaro 2.5",year:2019,mark:"Chevrolet",km:125e3,model:"Express 5000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:115,name:"Fiat Ducato",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:117,name:"Renault Trafic 3.0 ",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:118,name:"Renault Trafic 3.0 ",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:119,name:"Opel Vivaro 2.5",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:120,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:121,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:122,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"}],this._transformDataEquip=function(e){return{}}}return Object(m.a)(e,[{key:"getDataEquipments",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){Math.random()>1e4?a(new Error("Something bed happend")):t(e.equipmentsList)}),1e3)}))}},{key:"getDataVehicles",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){Math.random()>.95?a(new Error("Something bed happend")):t(e.equipmentsList)}),1e3)}))}},{key:"getDataWorkers",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){Math.random()>.95?a(new Error("Something bed happend")):t(e.workerList)}),1e3)}))}}]),e}(),p=a(9),d=a(8),v=a(10),g=a(2),E=a(29),h=(a(40),{indicatorSeparator:function(){return{display:"none"}},control:function(e,t){return Object(g.a)({},e,{border:"none"})},placeholder:function(e,t){return Object(g.a)({},e,{fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",color:"#000000"})},singleValue:function(e,t){return Object(g.a)({},e,{fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",color:"#000000"})},input:function(e,t){return Object(g.a)({},e,{pointerEvents:"none"})},menu:function(){return function(e,t){return Object(g.a)({},e,{background:"#FFFFFF",boxShadow:"0px 2px 10px rgba(22, 84, 152, 0.1)",borderRadius:"4px",top:"115%",position:"absolute",padding:"8px 0",zIndex:"999"})}},menuList:function(){return function(e,t){return Object(g.a)({},e)}},option:function(e,t){return Object(g.a)({},e,{border:"none",fontFamily:"Ubuntu",fontStyle:"normal",fontWeight:"normal",fontSize:"16px",backgroundColor:t.isSelected?"rgba(197, 215, 255, 0.5);":"none",color:"#14589C"})}}),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={selectedOption:a.props.defaultValue},a.handleChange=function(e){a.setState({selectedOption:e}),a.props.onHandleChange(e)},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectedOption;e.options;return i.a.createElement("div",{className:"select-wrapp"},i.a.createElement(E.a,{defaultValue:t,styles:h,value:t,onChange:this.handleChange,options:this.props.options}))}}]),t}(i.a.Component),b=a(16),k=a.n(b),y=(new u,Object(l.b)((function(e){var t=e.activeUserId;return{userDetails:e.usersList[t],usersList:e.usersList,isLoading:e.isLoading}}),(function(e){return{onUserChange:function(t){return e({type:"ON_USER_CHANGE",payload:t})}}}))((function(e){var t=e.userDetails,a=t.img,r=(t.name,t.id),s=Object(n.useState)(),l=Object(o.a)(s,2),c=l[0],m=l[1];return Object(n.useEffect)((function(){var t=Object.keys(e.usersList).map((function(t,a){return{label:e.usersList[t].name,value:t}}));m(t)}),[e.usersList]),i.a.createElement("div",{className:"user-card-wrapp"},i.a.createElement("div",{className:"avatar"},i.a.createElement("img",{src:a,alt:"avatar"})),i.a.createElement("div",{className:"user-name"},e.isLoading||i.a.createElement(k.a,{count:2,height:20}),e.isLoading&&i.a.createElement(f,{options:c,defaultValue:c.find((function(e){return e.value===r.toString()})),onHandleChange:function(t){e.onUserChange(t.value)}})))}))),O=(a(41),Object(l.b)((function(e){return{listsContent:e.listsContent}}),(function(e){return{}}))((function(e){return i.a.createElement("div",{className:"modal-header-wrapp"},i.a.createElement("div",{className:"left-part"},i.a.createElement("h5",null,"List of available ",e.listsContent)),i.a.createElement("div",{className:"right-part"},i.a.createElement(y,null)))}))),C=(a(42),a(43),a(44),function(e){return i.a.createElement("div",{className:"drop-wrapp"},i.a.createElement("select",{defaultValue:e.value,onChange:e.onHandleChange},e.optopns.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e.label)}))))}),N=function(){return{type:"ADD_ACTIVE_WORKER_EQUIPMENT"}},L=function(e){return{type:"ON_SEARCH_IN_WORKER_LIST",payload:e}},I=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"modal-footer-wrapp"},i.a.createElement("div",{className:"modal-footer"},i.a.createElement(C,{optopns:[{label:"equipment",value:"equipment"},{label:"vehicle",value:"vehicle"}],value:this.props.listsContent,onHandleChange:this.props.changeListsContent}),i.a.createElement("div",{className:"btn-group-wrapp"},i.a.createElement("button",{className:"cancel-btn",onClick:this.props.onClose},"Cancel"),i.a.createElement("button",{className:"submit-btn"},"Save"))))}}]),t}(i.a.Component),q={changeListsContent:function(e){return{type:"CHANGE_LIST_CONTENT",payload:e.target.value}}},j=Object(l.b)((function(e){return{listsContent:e.listsContent}}),q)(I),_=a(15),S=(a(61),function(e){return i.a.createElement("div",{className:"list-header ".concat(e.classname&&e.classname)},e.names.map((function(e,t){return i.a.createElement("div",{key:t,className:"label"},e)})))}),T=(a(62),function(e){return i.a.createElement("div",{className:"Search-wrapp"},i.a.createElement("input",{placeholder:"search",className:"search-field",type:"input",onInput:function(t){var a=t.target.value;e.onSearchInput(a)}}))}),w=(a(17),a(11)),R=a.n(w),W=(a(63),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).increment=function(){a.setState({value:a.state.value<a.props.maxValue?++a.state.value:a.state.value})},a.decrement=function(){a.setState({value:a.state.value>0?--a.state.value:0})},a.handleChange=function(e){var t=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");t>a.state.maxValue&&(t=a.state.maxValue),a.setState({value:t}),a.props.onQuanityChange(a.state.value)},a.state={value:""},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({maxValue:this.props.maxValue})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"quantity-input"},i.a.createElement("input",{className:"quantity-input__screen",type:"text",value:this.state.value,pattern:"[0-9]*",max:"10",onChange:this.handleChange}),i.a.createElement("button",{className:"quantity-input-increment",onClick:this.increment},"+"),i.a.createElement("button",{className:"quantity-input-decrement",onClick:this.decrement},"\u268a")))}}]),t}(i.a.Component)),x=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none"},i.a.createElement("line",{x1:"12.021",y1:"4.94937",x2:"4.94993",y2:"12.0204",stroke:"#C4C5D6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.a.createElement("line",{x1:"12.0208",y1:"12.0205",x2:"4.94978",y2:"4.94944",stroke:"#C4C5D6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},H=function(e){var t=e.id,a=e.image,n=(e.model,e.name),r=e.category,s=e.assigned,l=e.available,o=e.added,c=e.onAdd,m=R()("ItemDetils item-row-equipments",{"item-added":o});return i.a.createElement("div",{className:"ItemDetils-wrapp"},i.a.createElement("div",{className:m},i.a.createElement("div",{className:"label icon"},i.a.createElement("img",{src:a,alt:"icon"})),i.a.createElement("div",{className:"label attrebuts"},n),i.a.createElement("div",{className:"label category"},r),i.a.createElement("div",{className:"label assigned"},s),i.a.createElement("div",{className:"label available"},l),i.a.createElement("div",{className:"label add-btn"},o?i.a.createElement("span",null,"Added"):i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),c(t)}},"Add"))))},A=Object(l.b)()((function(e){var t=e.id,a=e.image,n=(e.model,e.name),r=e.category,s=e.assigned,l=e.available,o=e.onRemoveItem,c=R()("ItemDetils item-row-equipments",{"item-added":!1});return i.a.createElement("div",{className:"ItemDetils-wrapp"},i.a.createElement("div",{className:c},i.a.createElement("div",{className:"label icon"},i.a.createElement("img",{src:a,alt:"icon"})),i.a.createElement("div",{className:"label attrebuts"},n),i.a.createElement("div",{className:"label category"},r),i.a.createElement("div",{className:"label assigned"},s),i.a.createElement("div",{className:"label available"},l),i.a.createElement("div",{className:"label delete-btn"},i.a.createElement(W,{maxValue:l,onQuanityChange:function(e){}}),i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(t)}},i.a.createElement(x,null)))))})),G=function(e){var t=e.id,a=e.image,n=e.year,r=e.name,s=(e.model,e.mark,e.km),l=e.licens,o=e.added,c=e.onAdd,m=R()("ItemDetils item-row-vehicles",{"item-added":o});return i.a.createElement("div",{className:"ItemDetils-wrapp"},i.a.createElement("div",{className:m},i.a.createElement("div",{className:"label icon"},i.a.createElement("img",{src:a,alt:"icon"})),i.a.createElement("div",{className:"label"},t),i.a.createElement("div",{className:"label"},n),i.a.createElement("div",{className:"label"},r),i.a.createElement("div",{className:"label"},s),i.a.createElement("div",{className:"label"},l),i.a.createElement("div",{className:"label add-btn"},o?i.a.createElement("span",null,"Added"):i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),c(t)}},"Add"))))},D=function(e){var t=e.id,a=e.image,n=e.year,r=e.name,s=(e.model,e.mark,e.km),l=e.licens,o=e.onRemoveItem,c=R()("ItemDetils item-row-vehicles worker-list");return i.a.createElement("div",{className:"ItemDetils-wrapp"},i.a.createElement("div",{className:c},i.a.createElement("div",{className:"label icon"},i.a.createElement("img",{src:a,alt:"icon"})),i.a.createElement("div",{className:"label"},t),i.a.createElement("div",{className:"label"},n),i.a.createElement("div",{className:"label"},r),i.a.createElement("div",{className:"label"},s),i.a.createElement("div",{className:"label"},l),i.a.createElement("div",{className:"label delete-btn"},i.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o(t)}},i.a.createElement(x,null)))))},U=(a(64),new u),M=function(e){return e.list.map((function(t){return i.a.createElement(H,{id:t.id,key:t.id,image:t.img,name:t.name,model:"",category:t.category,assigned:t.assigned,available:t.available,added:e.isAdd(t.id),onAdd:e.onadd})}))},V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).isAssignedEquipCheck=function(e){var t=a.props,n=t.usersList[t.activeUserId].equipment.filter((function(t){return t.id===e})).length>0;return console.log("item list",n),n},a.addEquipmentToWorker=function(e){a.props.addEquipmentToWorker(e)},a.onSearchInput=function(e){a.props.onSerchInEquipmentsLists(e)},a.state={hasError:!1},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;U.getDataEquipments().then((function(t){e.props.getEquipmentList(t)})).then((function(){e.props.fetchEquipmentRquest()}))}},{key:"render",value:function(){var e=this.props,t=e.equipmentsList;e.listsContent;return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):i.a.createElement("div",{className:"ItemsList-wrapp"},i.a.createElement("div",{className:"loader"},this.props.isLoading||i.a.createElement(k.a,{count:2}),this.props.isLoading&&i.a.createElement(T,{onSearchInput:this.onSearchInput})),this.props.isLoading||i.a.createElement(k.a,{count:5,height:75}),this.props.isLoading&&i.a.createElement("div",{className:"items-list"},i.a.createElement(S,{classname:"item-row-equipments",names:["","Name","Category","Assigned","Available",""]}),i.a.createElement(_.Scrollbars,{style:{height:360},thumbMinSize:50,autoHeightMax:100,renderThumbHorizontal:function(){return i.a.createElement("span",null)},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},i.a.createElement(M,{list:t,isAdd:this.isAssignedEquipCheck,onadd:this.addEquipmentToWorker}))))}}]),t}(i.a.Component),J={fetchEquipmentRquest:function(){return{type:"FETCH_EQUIPMENT_REQUEST"}},getEquipmentList:function(e){return{type:"GET_EQUIPMENT_LIST",payload:e}},onSerchInEquipmentsLists:function(e){return{type:"ON_SEARCH_IN_EQUIPMENTS_LIST",payload:e}},addEquipmentToWorker:function(e){return{type:"ADD_EQUIPMENT_TO_WORKER",payload:e}}},F=Object(l.b)((function(e){return{equipmentsList:e.equipmentsList,activeUserId:e.activeUserId,usersList:e.usersList,listsContent:e.listsContent,isLoading:e.isLoading}}),J)(V),P=new u,Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).onSearchInput=function(e){a.props.onSerchInWorkerLists(e)},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.getDataWorkers().then((function(t){e.props.getWorkersList(t)})).then((function(){e.props.activeWorkerEquipmentAdd()}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ItemsList-wrapp"},i.a.createElement("div",{className:"loader"},this.props.isLoading||i.a.createElement(k.a,{count:2}),this.props.isLoading&&i.a.createElement(T,{onSearchInput:this.onSearchInput})),this.props.isLoading||i.a.createElement(k.a,{count:5,height:75}),this.props.isLoading&&i.a.createElement("div",{className:"items-list"},i.a.createElement(S,{classname:"item-row-equipments",names:["","Name","Category","Assigned","Available",""]}),i.a.createElement(_.Scrollbars,{style:{height:360},autoHide:!0,renderThumbHorizontal:function(){return i.a.createElement("span",null)},autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},this.props.activeWorkerEquip.map((function(t,a){var n=t;return i.a.createElement(A,{key:a,id:n.id,image:n.img,name:n.name,model:n.model,category:n.category,assigned:n.assigned,available:n.available,onRemoveItem:e.props.onRemoveEquipmentFromWorker})})))))}}]),t}(i.a.Component),K={activeWorkerEquipmentAdd:N,onRemoveEquipmentFromWorker:function(e){return{type:"REMOVE_EQUIPENT_FROM_WORKER_LIST",payload:e}},onSerchInWorkerLists:L,getWorkersList:function(e){return{type:"GET_WORKERS_LIST",payload:e}}},X=Object(l.b)((function(e){return{activeWorkerEquip:e.activeWorkerEquip,activeUserId:e.activeUserId,isLoading:e.isLoading}}),K)(Q),z=function(e){return e.list.map((function(t){return i.a.createElement(G,{id:t.id,key:t.id,year:t.year,image:t.img,name:t.name,mark:t.mark,model:t.model,km:t.km,licens:t.licens,added:e.isAdd(t.id),onAdd:e.onAdd})}))},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).isAssignedVehicleCheck=function(e){var t=a.props,n=t.usersList[t.activeUserId].vehicle.includes(e);return console.log("item list",n),n},a.onSearchInput=function(e){a.props.onSerchInEquipmentsLists(e)},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ItemsList-wrapp"},i.a.createElement(T,{onSearchInput:this.onSearchInput}),i.a.createElement("div",{className:"items-list"},i.a.createElement(S,{classname:"item-row-vehicles",names:["","#","Year","Model","KM","License"," "],VehiclesContainer:!0}),i.a.createElement(_.Scrollbars,{style:{height:360},renderThumbHorizontal:function(){return i.a.createElement("span",null)},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},i.a.createElement(z,{list:this.props.vehiclesList,isAdd:this.isAssignedVehicleCheck,onAdd:this.props.addVehicleToWorker}))))}}]),t}(n.Component),Y=Object(l.b)((function(e){return{activeUserId:e.activeUserId,usersList:e.usersList,vehiclesList:e.vehiclesList}}),(function(e){return{addVehicleToWorker:function(t){return e({type:"ADD_VEHICLE_TO_WORKER",payload:t})},onSerchInEquipmentsLists:function(t){return e({type:"ON_SEARCH_IN_EQUIPMENTS_LIST",payload:t})}}}))(B),$=function(e){return e.list.map((function(t){return i.a.createElement(D,{id:t.id,key:t.id,year:t.year,image:t.img,name:t.name,mark:t.mark,model:t.model,km:t.km,licens:t.licens,onRemoveItem:e.onRemoveItem})}))},Z={activeWorkerEquipmentAdd:N,onRemoveItemFromWorker:function(e){return{type:"REMOVE_ITEM_FROM_WORKER_LIST",payload:e}},onSerchInWorkerLists:L},ee=Object(l.b)((function(e){return{activeWorkerEquip:e.activeWorkerEquip,activeUserId:e.activeUserId,listsContent:e.listsContent}}),Z)((function(e){Object(n.useEffect)((function(){e.activeWorkerEquipmentAdd()}),[]);return i.a.createElement("div",{className:"ItemsList-wrapp"},i.a.createElement(T,{onSearchInput:function(t){e.onSerchInWorkerLists(t)}}),i.a.createElement("div",{className:"items-list"},i.a.createElement(S,{classname:"item-row-vehicles worker-list",names:["","#","Year","Model","KM","License",""]}),i.a.createElement(_.Scrollbars,{style:{height:360},autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,className:"items-box"},i.a.createElement($,{list:e.activeWorkerEquip,onRemoveItem:e.onRemoveItemFromWorker}))))})),te=Object(l.b)((function(e){return{listsContent:e.listsContent,isLoading:e.isLoading}}),null)((function(e){var t=R()("ModalContainerWrapper",{show:e.isModalOpen});return i.a.createElement("div",{className:t},i.a.createElement("div",{className:"modal-dialog-wrapp"},i.a.createElement(O,null),"equipment"===e.listsContent?i.a.createElement((function(){return i.a.createElement("div",{className:"lists-wrapp"},i.a.createElement("div",{className:"left-list"},i.a.createElement(F,null)),i.a.createElement("div",{className:"right-list"},i.a.createElement(X,null)))}),null):null,"vehicle"===e.listsContent?i.a.createElement((function(){return i.a.createElement("div",{className:"lists-wrapp"},i.a.createElement("div",{className:"left-list"},i.a.createElement(Y,null)),i.a.createElement("div",{className:"right-list"},i.a.createElement(ee,null)))}),null):null,i.a.createElement(j,{onClose:function(){}})))})),ae=(a(65),function(e){return i.a.createElement("div",{className:"ButtonWrapper"},i.a.createElement("button",{className:"btn ".concat(e.className),onClick:e.onClick},e.label))});a(66);var ne=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return i.a.createElement("div",{className:"app-wrapp app"},i.a.createElement("h1",null,"APP component"),i.a.createElement("div",{className:"btn-wrapp"},i.a.createElement(ae,{className:"btn-default",label:"List of available equipments",onClick:function(){r(!0)}})),a&&i.a.createElement(te,{isModalOpen:a,onClose:function(){r(!1)}}))},ie=i.a.createContext(),re=ie.Provider,se=(ie.Consumer,a(18)),le=a(6),oe=(new u,{listsContent:"equipment",isLoading:!1,error:null,searcTempList:[],activeWorkerEquip:[],activeUserId:123,usersList:{123:{id:123,name:"Marwan Elgwarsha",img:"https://upload.wikimedia.org/wikipedia/commons/2/2f/No-photo-m.png",equipment:[{id:123,assigned:3},{id:124,assigned:7},{id:125,assigned:9}],vehicle:[112,120]},124:{id:124,name:"Jony Jons",img:"https://img.pngio.com/png-avatar-108-images-in-collection-page-3-png-avatar-300_300.png",equipment:[{id:124,assigned:15}],vehicle:[]},125:{id:125,name:"Nik Ferdinand",img:"https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png",equipment:[],vehicle:[117]}},equipmentsList:[],vehiclesList:[{id:112,name:"Chevrolet Express 25000",year:2016,mark:"Chevrolet",km:125e3,model:"Express 25000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:113,name:"Chevrolet Express 25000",year:2018,mark:"Chevrolet",km:125e3,model:"Express 15000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:114,name:"Opel Vivaro 2.5",year:2019,mark:"Chevrolet",km:125e3,model:"Express 5000",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:115,name:"Fiat",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:117,name:"Renault Trafic 3.0 ",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:118,name:"Renault Trafic 3.0 ",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:119,name:"Opel Vivaro 2.5",year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:120,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:121,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"},{id:122,year:2017,mark:"Chevrolet",km:125e3,model:"Express 5040",licens:"GHJ7823",img:"http://astra.site4u.top/assets/img/vehicle-1.png"}]}),ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activeUserId;if("equipment"===e.listsContent){var a=e.usersList[t].equipment.map((function(t){var a=e.equipmentsList.filter((function(e){return e.id===t.id}));return Object(g.a)({},a[0],{assigned:t.assigned})}));return a}if("vehicle"===e.listsContent){var n=e.usersList[t].vehicle.map((function(t){console.log("//// IT",t);var a=e.vehiclesList.filter((function(e){return e.id===t}));return console.log("//// list",a),Object(g.a)({},a[0])}));return n}},me=function(e,t,a){return console.log("updateEquipmentList",e),[].concat(Object(le.a)(e.slice(0,a)),[t],Object(le.a)(e.slice(a+1)))},ue=function(e,t){return[].concat(Object(le.a)(e.slice(0,t)),Object(le.a)(e.slice(t+1)))},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;console.log("ITEM ___:",e);var a=e.id,n=e.name,i=e.model,r=e.category,s=e.img,l=e.assigned,o=e.available;return{id:a,name:n,model:i,category:r,img:s,assigned:l+t,available:o-t}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=e.mark,n=e.model,i=e.name,r=e.km,s=e.img,l=e.license,o=e.year;return{id:t,name:i,mark:a,model:n,km:r,img:s,license:l,year:o}},ve=function(e,t){return e.find((function(e){return e.id===t}))},ge=function(e,t){return e.findIndex((function(e){return e.id===t}))},Ee=function(e,t){var a=e.activeUserId,n=e.equipmentsList,i=e.usersList,r=e.activeWorkerEquip,s=ve(r,t),l=ge(r,t),o=ue(r,l),c=s.assigned,m=(s.available,i[a]),u=i[a].equipment.filter((function(e){return e.id!==t})),p=Object(g.a)({},m,{equipment:u}),d=Object(g.a)({},i);d[a]=Object(g.a)({},p);var v=ve(n,t),E=ge(n,t),h=pe(v,-c),f=me(n,h,E);return Object(g.a)({},e,{activeWorkerEquip:o,equipmentsList:f,usersList:d})},he=function(e,t){var a=e.activeUserId,n=e.vehiclesList,i=e.usersList,r=e.activeWorkerEquip,s=ge(r,t),l=ue(r,s),o=i[a],c=i[a].vehicle.filter((function(e){return e!==t})),m=Object(g.a)({},o,{vehicle:c}),u=Object(g.a)({},i);return u[a]=Object(g.a)({},m),Object(g.a)({},e,{activeWorkerEquip:l,usersList:u,vehiclesList:Object(le.a)(n)})},fe=function(e,t,a){return console.log("changeQuantityWorkerEquipments",t),console.log("changeQuantityWorkerEquipments",a),Object(g.a)({},e)},be=function(e,t,a){var n=ve(e.equipmentsList,t),i=ge(e.equipmentsList,t),r=pe(n,a),s=me(e.equipmentsList,r,i),l=e.activeUserId,o=Object(g.a)({},e.usersList);o[l].equipment=[].concat(Object(le.a)(o[l].equipment),[{id:t,assigned:1}]);var c=Object(g.a)({},o),m=[].concat(Object(le.a)(e.activeWorkerEquip),[pe(Object(g.a)({},n,{assigned:0}),1)]);return Object(g.a)({},e,{usersList:c,equipmentsList:s,activeWorkerEquip:m})},ke=function(e,t){var a=ve(e.vehiclesList,t),n=e.activeUserId,i=Object(g.a)({},e.usersList);i[n].vehicle=[].concat(Object(le.a)(i[n].vehicle),[t]);var r=Object(g.a)({},i),s=[].concat(Object(le.a)(e.activeWorkerEquip),[de(a)]);return Object(g.a)({},e,{usersList:r,activeWorkerEquip:s})},ye=function(e,t){if("equipment"===e.listsContent){var a=Object(le.a)(e.equipmentsList).filter((function(e){return new RegExp(t,"i").test(e.name)}));return Object(g.a)({},e,{equipmentsList:Object(le.a)(a)})}if("vehicle"===e.listsContent){var n=Object(le.a)(e.vehiclesList).filter((function(e){return new RegExp(t,"i").test(e.name)}));return Object(g.a)({},e,{vehiclesList:Object(le.a)(n)})}},Oe=function(e,t){return e.filter((function(e){return new RegExp(t,"i").test(e.name)}))},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),t.type){case"GET_EQUIPMENT_LIST":return Object(g.a)({},e,{equipmentsList:t.payload});case"GET_WORKERS_LIST":return Object(g.a)({},e,{usersList:t.payload});case"FETCH_EQUIPMENT_REQUEST":return Object(g.a)({},e,{isLoading:!0});case"ON_USER_CHANGE":return Object(g.a)({},e,{activeUserId:t.payload,activeWorkerEquip:ce(e,t.payload)});case"CHANGE_LIST_CONTENT":return Object(g.a)({},e,{listsContent:t.payload});case"ADD_ACTIVE_WORKER_EQUIPMENT":return Object(g.a)({},e,{activeWorkerEquip:ce(e)});case"ADD_EQUIPMENT_TO_WORKER":return be(e,t.payload,1);case"ADD_VEHICLE_TO_WORKER":return ke(e,t.payload);case"REMOVE_EQUIPENT_FROM_WORKER_LIST":return Ee(e,t.payload);case"REMOVE_ITEM_FROM_WORKER_LIST":return he(e,t.payload);case"ON_CHANGE_QUANITY_WORKER_EQUIPMENT":return fe(e,t.payload.id,t.payload.quantity);case"ON_SEARCH_IN_EQUIPMENTS_LIST":return ye(e,t.payload);case"ON_SEARCH_IN_WORKER_LIST":return Object(g.a)({},e,{activeWorkerEquip:Oe(e.activeWorkerEquip,t.payload)});default:return e}},Ne=Object(se.b)(Ce);new u;s.a.render(i.a.createElement(l.a,{store:Ne},i.a.createElement(re,{value:"context-value"},i.a.createElement(ne,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.86cc1978.chunk.js.map